version: '3.8'

networks:
  default:
    external:
      name: docker-host-network

volumes:
  cookbook-db:
    external: true

services:
  cookbook:
    extends:
      file: 'cookbook/service.yml'
      service: 'cookbook'
    depends_on:
      - 'cookbook-api'

  cookbook-api:
    extends:
      file: 'cookbook/service.yml'
      service: 'cookbook-api'
    depends_on:
      - 'cookbook-db'

  cookbook-db:
    extends:
      file: 'cookbook/service.yml'
      service: 'cookbook-db'
