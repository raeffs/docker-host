version: '3.8'

networks:
  default:
    external:
      name: docker-host-network

volumes:
  recipes-db:
    external: true
  recipes-media:
    external: true

services:
  recipes:
    extends:
      file: 'recipes/service.yml'
      service: 'recipes'
    depends_on:
      - 'recipes-db'

  recipes-media:
    extends:
      file: 'recipes/service.yml'
      service: 'recipes-media'
    depends_on:
      - 'recipes'

  recipes-db:
    extends:
      file: 'recipes/service.yml'
      service: 'recipes-db'
    